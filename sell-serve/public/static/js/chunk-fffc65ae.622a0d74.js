(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fffc65ae"],{"3b50":function(e,t,r){},"721b":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"person"},[r("el-card",[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("管理员信息")])]),r("div",{staticClass:"content"},[e._v(" 管理员ID："+e._s(e.form.id)+" "),r("el-divider"),e._v(" 管理员ID："+e._s(e.form.account)+" "),r("el-divider"),e._v(" 用户组："+e._s(e.form.userGroup)+" "),r("el-divider"),e._v(" 创建时间："+e._s(e._f("normalizeYmd")(e.form.ctime))+" "),r("el-divider"),e._v(" 管理员头像 "),r("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.API+"/users/avatar_upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.imgUrl?r("img",{staticClass:"avatar",attrs:{src:e.form.imgUrl}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),r("el-button",{staticClass:"btn-upload",attrs:{size:"small",type:"primary"},on:{click:e.uploadImg}},[e._v("确定上传")])],1)])],1)},a=[],i=r("1da1"),o=(r("96cf"),r("c24f")),c=r("c57c"),n={data:function(){return{API:"http://localhost:5000",form:{account:"",ctime:"",id:"",imgUrl:"",userGroup:""}}},methods:{handleAvatarSuccess:function(e){var t=e.code,r=e.msg,s=e.imgUrl;0===t?(this.$message({type:"success",message:r}),this.form.imgUrl=this.API+s):this.$message.error(r)},beforeAvatarUpload:function(e){var t=/[jpeg|png]/.test(e.type),r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},uploadImg:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,s,a,i,c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.form.imgUrl,s=r.substr(r.lastIndexOf("/")+1),t.next=4,Object(o["e"])({imgUrl:s});case 4:a=t.sent,i=a.data,c=i.code,n=i.msg,0===c?e.$bus.$emit("uploadImg"):e.$message.error(n);case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.form=c["a"].get("userInfo")}},l=n,u=(r("ccdb"),r("2877")),d=Object(u["a"])(l,s,a,!1,null,"35e142c8",null);t["default"]=d.exports},ccdb:function(e,t,r){"use strict";r("3b50")}}]);
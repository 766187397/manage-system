(function(t){function e(e){for(var r,a,u=e[0],i=e[1],s=e[2],l=0,d=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);f&&f(e);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o={app:0},c=[];function u(t){return i.p+"static/js/"+({}[t]||t)+"."+{"chunk-0dee7352":"e362ed70","chunk-0ea39fba":"581d41cb","chunk-1f017e07":"654ed0e7","chunk-5d8d6069":"2ab09b72","chunk-1fcaf154":"18f1bbf7","chunk-272d4ae2":"52472345","chunk-2d0b15e6":"77fb349e","chunk-4c63efdc":"f5636a64","chunk-596e41ed":"98c99d6a","chunk-5a1a0b9a":"36d60b91","chunk-87587616":"dedc6428","chunk-d4c6c0c2":"6eedff43","chunk-da7711ae":"7e4b8bb6","chunk-fffc65ae":"622a0d74"}[t]+".js"}function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n={"chunk-0ea39fba":1,"chunk-1f017e07":1,"chunk-5d8d6069":1,"chunk-1fcaf154":1,"chunk-272d4ae2":1,"chunk-596e41ed":1,"chunk-5a1a0b9a":1,"chunk-87587616":1,"chunk-d4c6c0c2":1,"chunk-da7711ae":1,"chunk-fffc65ae":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="static/css/"+({}[t]||t)+"."+{"chunk-0dee7352":"31d6cfe0","chunk-0ea39fba":"d36e0c08","chunk-1f017e07":"5def5d3c","chunk-5d8d6069":"022621af","chunk-1fcaf154":"a36b88a5","chunk-272d4ae2":"e35bda8c","chunk-2d0b15e6":"31d6cfe0","chunk-4c63efdc":"31d6cfe0","chunk-596e41ed":"5ddafe0c","chunk-5a1a0b9a":"c123c495","chunk-87587616":"b776c120","chunk-d4c6c0c2":"2def33b0","chunk-da7711ae":"8c9a2c12","chunk-fffc65ae":"1ad5fd69"}[t]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return e()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[t],f.parentNode.removeChild(f),n(c)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var c=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[t]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"13ef":function(t,e,n){"use strict";n("4a79")},"2e91":function(t,e,n){},"33cf":function(t,e,n){t.exports=n.p+"static/img/apple.5635fd4d.png"},"3de1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));n("d81d"),n("4d90"),n("d3b7"),n("25f0"),n("a15b"),n("fb6a");var r=function(t,e,n){""===e?n(new Error("用户名不能为空！")):/^[a-zA-Z0-9\u4e00-\u9fa5]{3,12}$/.test(e)?n():n(new Error("中文，数字，英文 3至12位"))},a=function(t,e,n){""===e?n(new Error("密码不能为空！")):/^[a-zA-Z0-9_]{6,12}$/.test(e)?n():n(new Error("数字，英文，下划线 6至12位"))},o=function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),o=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),i=[n,r,a,o,c,u].map((function(t){return t.toString().padStart(2,"0")}));return i.slice(0,3).join("-")+" "+i.slice(3).join(":")}},"3ec6":function(t,e,n){"use strict";n("2e91")},4410:function(t,e,n){"use strict";n("c7d0")},"4a79":function(t,e,n){},"4ee2":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"normalizeYmd",(function(){return et})),n.d(r,"normalizeYmdHms",(function(){return nt})),n.d(r,"normalizeHms",(function(){return rt})),n.d(r,"numFormat",(function(){return at}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("159b"),n("b64b"),n("4de4");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("router-view")],1)},c=[],u={},i=u,s=(n("c304"),n("2877")),l=Object(s["a"])(i,o,c,!1,null,"66640e82",null),d=l.exports,f=n("2909"),h=(n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("99af"),n("8c4f")),p=n("c57c"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("div",{staticClass:"form"},[t._m(0),n("el-form",{ref:"form",attrs:{rules:t.rules,size:"small","status-icon":"",model:t.formData}},[n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{"prefix-icon":"iconfont icon-account",type:"text",autocomplete:"off"},model:{value:t.formData.account,callback:function(e){t.$set(t.formData,"account",e)},expression:"formData.account"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:t.isPwd?"password":"text",autocomplete:"off"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}},[n("i",{staticClass:"iconfont icon-lock",attrs:{slot:"prefix"},slot:"prefix"}),t.isPwd?n("i",{staticClass:"iconfont icon-eye-close",attrs:{slot:"suffix"},on:{click:function(e){t.isPwd=!t.isPwd}},slot:"suffix"}):n("i",{staticClass:"iconfont icon-eye-open",attrs:{slot:"suffix"},on:{click:function(e){t.isPwd=!t.isPwd}},slot:"suffix"})])],1),n("el-form-item",[n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.submit}},[t._v("登录")])],1)],1)],1)])},g=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title"},[r("img",{staticClass:"logo",attrs:{src:n("33cf"),alt:""}}),t._v(" 系统登录 ")])}],b=n("5530"),v=n("1da1"),k=(n("96cf"),n("3de1")),w=n("c24f"),y={data:function(){return{formData:{account:"",password:""},rules:{account:[{validator:k["a"],trigger:"blur"}],password:[{validator:k["b"],trigger:"blur"}]},isPwd:!0}},methods:{submit:function(){var t=this;this.$refs.form.validate(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(n){var r,a,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,Object(w["b"])(Object(b["a"])({},t.formData));case 3:r=e.sent,a=r.data,o=a.code,c=a.role,u=a.token,0===o&&(p["a"].set("t_k",u),p["a"].set("role",c),Q(),t.$router.push({path:"/"})),e.next=9;break;case 8:console.log("验证不通过！");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},_=y,j=(n("9357"),Object(s["a"])(_,m,g,!1,null,"f77fa81e",null)),O=j.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("left-menu",{staticClass:"left-menu"}),n("div",{staticClass:"right-main"},[n("right-header",{staticClass:"right-header"}),n("div",{staticClass:"content"},[n("router-view")],1)],1)],1)},C=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-menu"},[t._m(0),n("el-menu",{staticClass:"menu",attrs:{"text-color":"#eeeeee","background-color":"#304156","default-active":t.$route.path,"unique-opened":"",router:""}},[t._l(t.menus,(function(e){return[1===e.children.length?n("el-menu-item",{key:e.meta.path,attrs:{index:e.meta.path}},[n("i",{staticClass:"iconfont icon-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.meta.title))])]):n("el-submenu",{key:e.meta.title,attrs:{index:e.meta.path}},[n("template",{slot:"title"},[n("i",{staticClass:"iconfont icon-total"}),n("span",[t._v(t._s(e.meta.title))])]),t._l(e.children,(function(e){return n("el-menu-item",{key:e.meta.path,attrs:{index:e.meta.path}},[t._v(t._s(e.meta.title))])}))],2)]}))],2)],1)},$=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("img",{attrs:{width:"50",src:n("ede7"),alt:""}}),t._v(" 外卖商家中心 ")])}],D={data:function(){return{menus:[]}},created:function(){this.menus=p["a"].get("menus"),console.log("this.menus",this.menus)}},E=D,M=(n("4410"),Object(s["a"])(E,S,$,!1,null,"533de734",null)),P=M.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right-header"},[n("el-row",[n("el-col",{staticClass:"breadcrumb",attrs:{span:12,md:8}},[n("el-breadcrumb",t._l(t.breadList2,(function(e){return n("el-breadcrumb-item",{key:e.path,attrs:{to:e.path}},[t._v(t._s(e.title))])})),1)],1),n("el-col",{staticClass:"right",attrs:{span:12,md:16}},[n("el-dropdown",{on:{command:t.handleDropDown}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" 欢迎你,"+t._s(t.form.account)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"person"}},[t._v("个人中心")]),n("el-dropdown-item",{attrs:{command:"logout"}},[t._v("退出登录")])],1)],1),n("el-avatar",{attrs:{size:40,src:t.form.imgUrl}})],1)],1)],1)},z=[],A={data:function(){return{breadList1:[],form:{account:"",ctime:"",id:"",imgUrl:"",userGroup:""}}},methods:{calcBread:function(){var t=[{path:"/",title:"首页"}];this.$route.matched.forEach((function(e){e.meta.path&&e.meta.title&&t.push(e.meta)})),this.breadList1=t},getData:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(w["g"])();case 2:n=e.sent,t.form=n.data,p["a"].set("userInfo",Object(b["a"])({},t.form));case 5:case"end":return e.stop()}}),e)})))()},handleDropDown:function(t){"person"===t&&this.$router.push("/account/person"),"logout"===t&&(p["a"].clear(),this.$message({type:"success",message:"退出登录"}),this.$router.push("/login"))}},created:function(){var t=this;this.calcBread(),this.getData(),this.$bus.$on("uploadImg",(function(){t.getData()}))},watch:{"$route.path":function(){this.calcBread()}},computed:{breadList2:function(){var t=[{path:"/",title:"首页"}];return this.$route.matched.forEach((function(e){e.meta.path&&e.meta.title&&t.push(e.meta)})),t}}},T=A,H=(n("3ec6"),Object(s["a"])(T,L,z,!1,null,"51779e80",null)),N=H.exports,R={components:{LeftMenu:P,RightHeader:N}},B=R,I=(n("13ef"),Object(s["a"])(B,x,C,!1,null,"59570919",null)),F=I.exports,Y=h["a"].prototype.push;h["a"].prototype.push=function(t){return Y.call(this,t).catch((function(t){return t}))},a["default"].use(h["a"]);var q=[{path:"/login",component:O},{path:"/",meta:{path:"/home",title:"后台首页"},isMenu:!0,component:F,redirect:"/home",children:[{path:"/home",component:function(){return Promise.all([n.e("chunk-0dee7352"),n.e("chunk-0ea39fba")]).then(n.bind(null,"b3d7"))}}]}],J=[{path:"/order",component:F,isMenu:!0,meta:{path:"/order",title:"订单管理"},children:[{path:"",component:function(){return n.e("chunk-d4c6c0c2").then(n.bind(null,"f86d"))}}]},{path:"/goods",component:F,isMenu:!0,redirect:"/goods/goods-list",meta:{path:"/goods",title:"商品管理"},children:[{meta:{path:"/goods/goods-list",title:"商品列表"},path:"/goods/goods-list",component:function(){return n.e("chunk-4c63efdc").then(n.bind(null,"384b"))}},{meta:{path:"/goods/goods-add",title:"商品添加",roles:["super"]},path:"/goods/goods-add",component:function(){return n.e("chunk-87587616").then(n.bind(null,"f34a"))}},{meta:{path:"/goods/goods-cate",title:"商品分类"},path:"/goods/goods-cate",component:function(){return n.e("chunk-596e41ed").then(n.bind(null,"a13e"))}}]},{path:"/shop",component:F,isMenu:!0,meta:{path:"/shop",title:"店铺管理",roles:["super"]},children:[{path:"",component:function(){return n.e("chunk-5a1a0b9a").then(n.bind(null,"5f6f"))}}]},{path:"/account",component:F,isMenu:!0,meta:{path:"/account",title:"账号管理"},redirect:"/account/account-list",children:[{meta:{path:"/account/account-list",title:"账号列表",roles:["super"]},path:"/account/account-list",component:function(){return n.e("chunk-da7711ae").then(n.bind(null,"ba97"))}},{meta:{path:"/account/account-add",title:"账号添加",roles:["super"]},path:"/account/account-add",component:function(){return n.e("chunk-272d4ae2").then(n.bind(null,"0efa"))}},{meta:{path:"/account/password-modify",title:"修改密码"},path:"/account/password-modify",component:function(){return n.e("chunk-1fcaf154").then(n.bind(null,"1ef8"))}},{meta:{path:"/account/person",title:"个人中心"},path:"/account/person",component:function(){return n.e("chunk-fffc65ae").then(n.bind(null,"721b"))}}]},{path:"/total",isMenu:!0,meta:{path:"/total",title:"销售统计",roles:["super"]},component:F,redirect:"/total/total-goods",children:[{meta:{path:"/total/total-goods",title:"商品统计"},path:"/total/total-goods",component:function(){return Promise.all([n.e("chunk-0dee7352"),n.e("chunk-5d8d6069")]).then(n.bind(null,"ba16"))}},{meta:{path:"/total/total-order",title:"订单统计"},path:"/total/total-order",component:function(){return Promise.all([n.e("chunk-0dee7352"),n.e("chunk-1f017e07")]).then(n.bind(null,"f897"))}}]}],U=[{path:"*",redirect:"/error404"},{path:"/error404",component:function(){return n.e("chunk-2d0b15e6").then(n.bind(null,"200b"))}}],Z=function(t){return t.filter((function(t){return t.isMenu}))},G=function(t,e){return!e.meta||!e.meta.roles||0===e.meta.roles.length||e.meta.roles.includes(t)},K=function t(e,n){var r=[];return r=n.filter((function(n){return!!G(e,n)&&(n.children&&0!==n.children.length&&(n.children=t(e,n.children)),!0)})),r},Q=function(){var t=p["a"].get("role");if(t){var e=K(t,J);V.addRoutes([].concat(Object(f["a"])(e),U));var n=Z([].concat(q,Object(f["a"])(e)));p["a"].set("menus",n)}},V=new h["a"]({routes:q});Q(),V.beforeEach((function(t,e,n){"/login"===t.path&&"/"!==e.path&&window.location.reload();var r=p["a"].get("t_k");r||"/login"===t.path?n():n("/login")}));var W=V,X=n("5c96"),tt=n.n(X),et=(n("0fae"),n("d81d"),n("4d90"),n("25f0"),n("a15b"),n("fb6a"),n("ac1f"),n("5319"),function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),o=[n,r,a].map((function(t){return t.toString().padStart(2,"0")}));return o.join("/")}),nt=function(t){var e=new Date(t),n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),o=e.getHours(),c=e.getMinutes(),u=e.getSeconds(),i=[n,r,a,o,c,u].map((function(t){return t.toString().padStart(2,"0")}));return i.slice(0,3).join("-")+" "+i.slice(3).join(":")},rt=function(t){var e=new Date(t),n=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),o=[n,r,a].map((function(t){return t.toString().padStart(2,"0")}));return o.join(":")},at=function(t){return-1!==t.toString().indexOf(".")?t.toLocaleString():t.toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};n("82da"),n("4ee2");a["default"].use(tt.a),a["default"].config.productionTip=!1,Object.keys(r).forEach((function(t){a["default"].filter(t,r[t])})),a["default"].prototype.$bus=new a["default"],new a["default"]({router:W,render:function(t){return t(d)}}).$mount("#app")},"75ce":function(t,e,n){},"82da":function(t,e,n){},9357:function(t,e,n){"use strict";n("75ce")},b775:function(t,e,n){"use strict";n("d3b7");var r=n("bc3a"),a=n.n(r),o=n("c57c"),c=n("5c96");a.a.defaults.baseURL="http://localhost:5000",a.a.defaults.timeout=1e4,a.a.interceptors.request.use((function(t){var e=o["a"].get("t_k");return e&&(t.headers.authorization=e),t}),(function(t){return Promise.reject(t)})),a.a.interceptors.response.use((function(t){var e=t.data,n=e.code,r=e.msg;switch(n){case 0:Object(c["Message"])({type:"success",message:r});break;case 1:c["Message"].error(r);break;case 5001:c["Message"].error(r);break;default:break}return t}),(function(t){var e=t.response.data,n=e.code,r=e.msg;switch(n){case 401:c["Message"].error(r);break;default:break}return n||c["Message"].error(t.message),Promise.reject(t)})),e["a"]=a.a},c24f:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"f",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return d}));var r=n("b775"),a=function(t){return Object(r["a"])({method:"post",url:"/users/checkLogin",data:t})},o=function(t){return Object(r["a"])({method:"post",url:"/users/add",data:t})},c=function(t){return Object(r["a"])({method:"get",url:"/users/list",params:t})},u=function(t){return Object(r["a"])({method:"get",url:"/users/del",params:t})},i=function(t){return Object(r["a"])({method:"post",url:"/users/edit",data:t})},s=function(t){return Object(r["a"])({method:"get",url:"/users/batchdel",params:t})},l=function(){return Object(r["a"])({method:"get",url:"/users/info"})},d=function(t){return Object(r["a"])({method:"get",url:"/users/avataredit",params:t})}},c304:function(t,e,n){"use strict";n("fdcc")},c57c:function(t,e,n){"use strict";var r={set:function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},get:function(t){return JSON.parse(window.localStorage.getItem(t))},remove:function(t){window.localStorage.removeItem(t)},clear:function(){window.localStorage.clear()}};e["a"]=r},c7d0:function(t,e,n){},ede7:function(t,e,n){t.exports=n.p+"static/img/logo.fef0314a.png"},fdcc:function(t,e,n){}});